function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{j1ZV:function(t,e,a){"use strict";a.r(e),a.d(e,"ComponentsModule",(function(){return K}));var n,r,o=a("tyNb"),c=a("lJxs"),i=a("fXoL"),l=a("vkgz"),s=a("2Vo4"),u=a("qc5V"),b=((n=function(){function t(e){_classCallCheck(this,t),this.apiService=e,this.localDataSubject=new s.a(null),this._localData=this.localDataSubject.asObservable()}return _createClass(t,[{key:"fetchData",value:function(){var t=this;return this.apiService.get("/timeseries.json").pipe(Object(l.a)((function(e){t.localDataSubject.next(e)})))}},{key:"clearData",value:function(){this.localDataSubject.next(null)}},{key:"getAllData",value:function(){return this._localData}},{key:"getSummaryNumbers",value:function(){return this._localData.pipe(Object(c.a)((function(t){var e={confirmed:0,deaths:0,recovered:0};return t&&Object.keys(t).forEach((function(a){if(t[a]){var n=t[a][t[a].length-1];e.confirmed=e.confirmed+n.confirmed,e.deaths=e.deaths+n.deaths,e.recovered=e.recovered+n.recovered}})),e})))}},{key:"getListCountries",value:function(){return this._localData.pipe(Object(c.a)((function(t){return t?Object.keys(t):[]})))}},{key:"getByCountryName",value:function(t){return this._localData.pipe(Object(c.a)((function(e){if(e&&e[t])return _toConsumableArray(e[t])})))}}]),t}()).\u0275fac=function(t){return new(t||n)(i.Wb(u.a))},n.\u0275prov=i.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n),d=a("/t3+"),f=a("NFeN"),m=a("Wp6s"),p=a("ofXK"),h=((r=function(){function t(e){_classCallCheck(this,t),this.covidDataStoreService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.totalConfirmed$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)((function(t){return t.confirmed.toLocaleString()}))),this.totalRecovered$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)((function(t){return t.recovered.toLocaleString()}))),this.totalDeaths$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)((function(t){return t.deaths.toLocaleString()})))}}]),t}()).\u0275fac=function(t){return new(t||r)(i.Mb(b))},r.\u0275cmp=i.Gb({type:r,selectors:[["app-components"]],decls:27,vars:9,consts:[[1,"header"],[1,"fill-remaining-space"],[1,"summary-wrap"],["title","Confirmed",1,"text-orange"],[1,"number"],["title","Deaths",1,"text-red"],["title","Recovered",1,"text-green"],[1,"info"],["href","https://github.com/pomber/covid19"]],template:function(t,e){1&t&&(i.Sb(0,"mat-toolbar",0),i.Sb(1,"span"),i.sc(2,"CHART COVID-19"),i.Rb(),i.Nb(3,"span",1),i.Sb(4,"div",2),i.Sb(5,"mat-icon",3),i.sc(6,"sentiment_dissatisfied"),i.Rb(),i.Sb(7,"span",4),i.sc(8),i.dc(9,"async"),i.Rb(),i.Sb(10,"mat-icon",5),i.sc(11,"sentiment_very_dissatisfied"),i.Rb(),i.Sb(12,"span",4),i.sc(13),i.dc(14,"async"),i.Rb(),i.Sb(15,"mat-icon",6),i.sc(16,"sentiment_very_satisfied"),i.Rb(),i.Sb(17,"span",4),i.sc(18),i.dc(19,"async"),i.Rb(),i.Rb(),i.Rb(),i.Sb(20,"mat-card"),i.Nb(21,"router-outlet"),i.Rb(),i.Sb(22,"mat-toolbar",7),i.Sb(23,"span"),i.sc(24,"Source data from "),i.Sb(25,"a",8),i.sc(26,"@pomber/covid19"),i.Rb(),i.Rb(),i.Rb()),2&t&&(i.Cb(8),i.tc(i.ec(9,3,e.totalConfirmed$)),i.Cb(5),i.tc(i.ec(14,5,e.totalDeaths$)),i.Cb(5),i.tc(i.ec(19,7,e.totalRecovered$)))},directives:[d.a,f.a,m.a,o.b],pipes:[p.b],styles:[".header[_ngcontent-%COMP%]{background-color:#fff}.header[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{border-bottom:1px solid #cdcdcd}.info[_ngcontent-%COMP%]{font-size:11px;border-top:1px solid #cdcdcd;height:40px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.summary-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.summary-wrap[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-left:3px;margin-right:10px}.summary-wrap[_ngcontent-%COMP%]   .text-orange[_ngcontent-%COMP%]{color:purple}.summary-wrap[_ngcontent-%COMP%]   .text-red[_ngcontent-%COMP%]{color:red}.summary-wrap[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:green}"]}),r),y=a("3Pt+"),C=a("JX91"),v=a("cHiH"),g=a("jaxi"),S=a("kmnG"),_=a("qFsG"),D=a("/1cH"),R=a("qPpl"),w=a("+0xr"),O=a("FKr1");function k(t,e){if(1&t&&(i.Sb(0,"mat-option",22),i.sc(1),i.Rb()),2&t){var a=e.$implicit;i.ic("value",a),i.Cb(1),i.uc(" ",a," ")}}function j(t,e){1&t&&(i.Sb(0,"th",23),i.sc(1," Date "),i.Rb())}function P(t,e){if(1&t&&(i.Sb(0,"td",24),i.sc(1),i.dc(2,"date"),i.Rb()),2&t){var a=e.$implicit;i.Cb(1),i.uc(" ",i.fc(2,1,a.date,"mediumDate")," ")}}function M(t,e){1&t&&(i.Sb(0,"th",23),i.sc(1," Confirmed "),i.Rb())}function A(t,e){if(1&t&&(i.Sb(0,"td",24),i.sc(1),i.Rb()),2&t){var a=e.$implicit;i.Cb(1),i.uc(" ",a.confirmed," ")}}function x(t,e){1&t&&(i.Sb(0,"th",23),i.sc(1," Recovered "),i.Rb())}function T(t,e){if(1&t&&(i.Sb(0,"td",24),i.sc(1),i.Rb()),2&t){var a=e.$implicit;i.Cb(1),i.uc(" ",a.recovered," ")}}function N(t,e){1&t&&(i.Sb(0,"th",23),i.sc(1," Deaths "),i.Rb())}function $(t,e){if(1&t&&(i.Sb(0,"td",24),i.sc(1),i.Rb()),2&t){var a=e.$implicit;i.Cb(1),i.uc(" ",a.deaths," ")}}function L(t,e){1&t&&i.Nb(0,"tr",25)}function I(t,e){1&t&&i.Nb(0,"tr",26)}var H,B,F,J=[{path:"",component:h,children:[{path:"home",component:(H=function(){function t(e){_classCallCheck(this,t),this.covidDataStoreService=e,this.selectedCountry="Vietnam",this.countryControl=new y.b(this.selectedCountry),this.displayedColumns=["date","confirmed","recovered","deaths"],this.dataType="confirmed"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.covidDataStoreService.fetchData().subscribe(),this.covidDataStoreService.getListCountries().subscribe((function(e){t.countries=e})),this.allData$=this.covidDataStoreService.getAllData(),this.countriesOpts$=this.countryControl.valueChanges.pipe(Object(C.a)(""),Object(c.a)((function(e){return t._filter(e)}))),this._handleLoadDataByCountry(this.selectedCountry)}},{key:"_filter",value:function(t){var e=t.toLowerCase();return this.countries.filter((function(t){return t.toLowerCase().includes(e)}))}},{key:"onSelectCountry",value:function(t){t&&t.option&&t.option.value&&(this.selectedCountry=t.option.value,this._handleLoadDataByCountry(t.option.value))}},{key:"_handleLoadDataByCountry",value:function(t){this.dataByCountry$=this.covidDataStoreService.getByCountryName(t).pipe(Object(c.a)((function(t){return t&&t.length>0?t.sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()})):t})))}}]),t}(),H.\u0275fac=function(t){return new(t||H)(i.Mb(b))},H.\u0275cmp=i.Gb({type:H,selectors:[["app-home"]],decls:39,vars:18,consts:[[3,"chartData","dataType"],[1,"align-center"],["name","dataType",3,"ngModel","ngModelChange"],["value","confirmed"],["value","deaths"],["value","recovered"],[1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Search Country","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"chartData"],["mat-table","",1,"mat-elevation-z8","full-width",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","confirmed"],["matColumnDef","recovered"],["matColumnDef","deaths"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(i.Sb(0,"div"),i.Nb(1,"app-world-map-chart",0),i.dc(2,"async"),i.Sb(3,"div",1),i.Sb(4,"mat-button-toggle-group",2),i.ac("ngModelChange",(function(t){return e.dataType=t})),i.Sb(5,"mat-button-toggle",3),i.sc(6,"Confirmed"),i.Rb(),i.Sb(7,"mat-button-toggle",4),i.sc(8,"Deaths"),i.Rb(),i.Sb(9,"mat-button-toggle",5),i.sc(10,"Recovered"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Nb(11,"hr"),i.Sb(12,"form",6),i.Sb(13,"mat-form-field",7),i.Nb(14,"input",8),i.Sb(15,"mat-autocomplete",9,10),i.ac("optionSelected",(function(t){return e.onSelectCountry(t)})),i.rc(17,k,2,2,"mat-option",11),i.dc(18,"async"),i.Rb(),i.Rb(),i.Rb(),i.Nb(19,"hr"),i.Sb(20,"div"),i.Nb(21,"app-multi-data-chart",12),i.dc(22,"async"),i.Rb(),i.Sb(23,"table",13),i.dc(24,"async"),i.Qb(25,14),i.rc(26,j,2,0,"th",15),i.rc(27,P,3,4,"td",16),i.Pb(),i.Qb(28,17),i.rc(29,M,2,0,"th",15),i.rc(30,A,2,1,"td",16),i.Pb(),i.Qb(31,18),i.rc(32,x,2,0,"th",15),i.rc(33,T,2,1,"td",16),i.Pb(),i.Qb(34,19),i.rc(35,N,2,0,"th",15),i.rc(36,$,2,1,"td",16),i.Pb(),i.rc(37,L,1,0,"tr",20),i.rc(38,I,1,0,"tr",21),i.Rb()),2&t){var a=i.kc(16);i.Cb(1),i.ic("chartData",i.ec(2,10,e.allData$))("dataType",e.dataType),i.Cb(3),i.ic("ngModel",e.dataType),i.Cb(10),i.ic("formControl",e.countryControl)("matAutocomplete",a),i.Cb(3),i.ic("ngForOf",i.ec(18,12,e.countriesOpts$)),i.Cb(4),i.ic("chartData",i.ec(22,14,e.dataByCountry$)),i.Cb(2),i.ic("dataSource",i.ec(24,16,e.dataByCountry$)),i.Cb(14),i.ic("matHeaderRowDef",e.displayedColumns),i.Cb(1),i.ic("matRowDefColumns",e.displayedColumns)}},directives:[v.a,g.b,y.h,y.k,g.a,y.m,y.i,y.j,S.b,_.a,y.a,D.c,y.c,D.a,p.k,R.a,w.j,w.c,w.e,w.b,w.g,w.i,O.f,w.d,w.a,w.f,w.h],pipes:[p.b,p.e],styles:[".full-width[_ngcontent-%COMP%]{width:100%;color:#1eff00}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),H)},{path:"",redirectTo:"home",pathMatch:"full"}]}],V=((B=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:B}),B.\u0275inj=i.Jb({factory:function(t){return new(t||B)},imports:[[o.a.forChild(J)],o.a]}),B),G=a("PCNd"),K=((F=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:F}),F.\u0275inj=i.Jb({factory:function(t){return new(t||F)},imports:[[G.a,V]]}),F)}}]);