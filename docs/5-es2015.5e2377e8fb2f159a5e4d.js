(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{j1ZV:function(t,e,a){"use strict";a.r(e),a.d(e,"ComponentsModule",(function(){return H}));var o=a("tyNb"),c=a("lJxs"),n=a("fXoL"),r=a("vkgz"),i=a("2Vo4"),s=a("qc5V");let l=(()=>{class t{constructor(t){this.apiService=t,this.localDataSubject=new i.a(null),this._localData=this.localDataSubject.asObservable()}fetchData(){return this.apiService.get("/timeseries.json").pipe(Object(r.a)(t=>{this.localDataSubject.next(t)}))}clearData(){this.localDataSubject.next(null)}getAllData(){return this._localData}getSummaryNumbers(){return this._localData.pipe(Object(c.a)(t=>{const e={confirmed:0,deaths:0,recovered:0};return t&&Object.keys(t).forEach(a=>{if(t[a]){const o=t[a][t[a].length-1];e.confirmed=e.confirmed+o.confirmed,e.deaths=e.deaths+o.deaths,e.recovered=e.recovered+o.recovered}}),e}))}getListCountries(){return this._localData.pipe(Object(c.a)(t=>t?Object.keys(t):[]))}getByCountryName(t){return this._localData.pipe(Object(c.a)(e=>{if(e&&e[t])return[...e[t]]}))}}return t.\u0275fac=function(e){return new(e||t)(n.Wb(s.a))},t.\u0275prov=n.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=a("/t3+"),b=a("NFeN"),u=a("Wp6s"),m=a("ofXK");let p=(()=>{class t{constructor(t){this.covidDataStoreService=t}ngOnInit(){this.totalConfirmed$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)(t=>t.confirmed.toLocaleString())),this.totalRecovered$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)(t=>t.recovered.toLocaleString())),this.totalDeaths$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(c.a)(t=>t.deaths.toLocaleString()))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(l))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-components"]],decls:27,vars:9,consts:[[1,"header"],[1,"fill-remaining-space"],[1,"summary-wrap"],["title","Confirmed",1,"text-orange"],[1,"number"],["title","Deaths",1,"text-red"],["title","Recovered",1,"text-green"],[1,"info"],["href","https://github.com/pomber/covid19"]],template:function(t,e){1&t&&(n.Sb(0,"mat-toolbar",0),n.Sb(1,"span"),n.sc(2,"CHART COVID-19"),n.Rb(),n.Nb(3,"span",1),n.Sb(4,"div",2),n.Sb(5,"mat-icon",3),n.sc(6,"sentiment_dissatisfied"),n.Rb(),n.Sb(7,"span",4),n.sc(8),n.dc(9,"async"),n.Rb(),n.Sb(10,"mat-icon",5),n.sc(11,"sentiment_very_dissatisfied"),n.Rb(),n.Sb(12,"span",4),n.sc(13),n.dc(14,"async"),n.Rb(),n.Sb(15,"mat-icon",6),n.sc(16,"sentiment_very_satisfied"),n.Rb(),n.Sb(17,"span",4),n.sc(18),n.dc(19,"async"),n.Rb(),n.Rb(),n.Rb(),n.Sb(20,"mat-card"),n.Nb(21,"router-outlet"),n.Rb(),n.Sb(22,"mat-toolbar",7),n.Sb(23,"span"),n.sc(24,"Source data from "),n.Sb(25,"a",8),n.sc(26,"@pomber/covid19"),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.Cb(8),n.tc(n.ec(9,3,e.totalConfirmed$)),n.Cb(5),n.tc(n.ec(14,5,e.totalDeaths$)),n.Cb(5),n.tc(n.ec(19,7,e.totalRecovered$)))},directives:[d.a,b.a,u.a,o.b],pipes:[m.b],styles:[".header[_ngcontent-%COMP%]{background-color:#fff}.header[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]{border-bottom:1px solid #cdcdcd}.info[_ngcontent-%COMP%]{font-size:11px;border-top:1px solid #cdcdcd;height:40px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}.summary-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.summary-wrap[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-left:3px;margin-right:10px}.summary-wrap[_ngcontent-%COMP%]   .text-orange[_ngcontent-%COMP%]{color:purple}.summary-wrap[_ngcontent-%COMP%]   .text-red[_ngcontent-%COMP%]{color:red}.summary-wrap[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:green}"]}),t})();var h=a("3Pt+"),f=a("JX91"),C=a("cHiH"),g=a("jaxi"),S=a("kmnG"),y=a("qFsG"),v=a("/1cH"),D=a("qPpl"),R=a("+0xr"),w=a("FKr1");function O(t,e){if(1&t&&(n.Sb(0,"mat-option",22),n.sc(1),n.Rb()),2&t){const t=e.$implicit;n.ic("value",t),n.Cb(1),n.uc(" ",t," ")}}function _(t,e){1&t&&(n.Sb(0,"th",23),n.sc(1," Date "),n.Rb())}function M(t,e){if(1&t&&(n.Sb(0,"td",24),n.sc(1),n.dc(2,"date"),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.uc(" ",n.fc(2,1,t.date,"mediumDate")," ")}}function j(t,e){1&t&&(n.Sb(0,"th",23),n.sc(1," Confirmed "),n.Rb())}function x(t,e){if(1&t&&(n.Sb(0,"td",24),n.sc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.uc(" ",t.confirmed," ")}}function P(t,e){1&t&&(n.Sb(0,"th",23),n.sc(1," Recovered "),n.Rb())}function N(t,e){if(1&t&&(n.Sb(0,"td",24),n.sc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.uc(" ",t.recovered," ")}}function $(t,e){1&t&&(n.Sb(0,"th",23),n.sc(1," Deaths "),n.Rb())}function k(t,e){if(1&t&&(n.Sb(0,"td",24),n.sc(1),n.Rb()),2&t){const t=e.$implicit;n.Cb(1),n.uc(" ",t.deaths," ")}}function L(t,e){1&t&&n.Nb(0,"tr",25)}function T(t,e){1&t&&n.Nb(0,"tr",26)}const B=[{path:"",component:p,children:[{path:"home",component:(()=>{class t{constructor(t){this.covidDataStoreService=t,this.selectedCountry="Vietnam",this.countryControl=new h.b(this.selectedCountry),this.displayedColumns=["date","confirmed","recovered","deaths"],this.dataType="confirmed"}ngOnInit(){this.covidDataStoreService.fetchData().subscribe(),this.covidDataStoreService.getListCountries().subscribe(t=>{this.countries=t}),this.allData$=this.covidDataStoreService.getAllData(),this.countriesOpts$=this.countryControl.valueChanges.pipe(Object(f.a)(""),Object(c.a)(t=>this._filter(t))),this._handleLoadDataByCountry(this.selectedCountry)}_filter(t){const e=t.toLowerCase();return this.countries.filter(t=>t.toLowerCase().includes(e))}onSelectCountry(t){t&&t.option&&t.option.value&&(this.selectedCountry=t.option.value,this._handleLoadDataByCountry(t.option.value))}_handleLoadDataByCountry(t){this.dataByCountry$=this.covidDataStoreService.getByCountryName(t).pipe(Object(c.a)(t=>t&&t.length>0?t.sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()):t))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(l))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-home"]],decls:39,vars:18,consts:[[3,"chartData","dataType"],[1,"align-center"],["name","dataType",3,"ngModel","ngModelChange"],["value","confirmed"],["value","deaths"],["value","recovered"],[1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Search Country","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"chartData"],["mat-table","",1,"mat-elevation-z8","full-width",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","confirmed"],["matColumnDef","recovered"],["matColumnDef","deaths"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(n.Sb(0,"div"),n.Nb(1,"app-world-map-chart",0),n.dc(2,"async"),n.Sb(3,"div",1),n.Sb(4,"mat-button-toggle-group",2),n.ac("ngModelChange",(function(t){return e.dataType=t})),n.Sb(5,"mat-button-toggle",3),n.sc(6,"Confirmed"),n.Rb(),n.Sb(7,"mat-button-toggle",4),n.sc(8,"Deaths"),n.Rb(),n.Sb(9,"mat-button-toggle",5),n.sc(10,"Recovered"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Nb(11,"hr"),n.Sb(12,"form",6),n.Sb(13,"mat-form-field",7),n.Nb(14,"input",8),n.Sb(15,"mat-autocomplete",9,10),n.ac("optionSelected",(function(t){return e.onSelectCountry(t)})),n.rc(17,O,2,2,"mat-option",11),n.dc(18,"async"),n.Rb(),n.Rb(),n.Rb(),n.Nb(19,"hr"),n.Sb(20,"div"),n.Nb(21,"app-multi-data-chart",12),n.dc(22,"async"),n.Rb(),n.Sb(23,"table",13),n.dc(24,"async"),n.Qb(25,14),n.rc(26,_,2,0,"th",15),n.rc(27,M,3,4,"td",16),n.Pb(),n.Qb(28,17),n.rc(29,j,2,0,"th",15),n.rc(30,x,2,1,"td",16),n.Pb(),n.Qb(31,18),n.rc(32,P,2,0,"th",15),n.rc(33,N,2,1,"td",16),n.Pb(),n.Qb(34,19),n.rc(35,$,2,0,"th",15),n.rc(36,k,2,1,"td",16),n.Pb(),n.rc(37,L,1,0,"tr",20),n.rc(38,T,1,0,"tr",21),n.Rb()),2&t){const t=n.kc(16);n.Cb(1),n.ic("chartData",n.ec(2,10,e.allData$))("dataType",e.dataType),n.Cb(3),n.ic("ngModel",e.dataType),n.Cb(10),n.ic("formControl",e.countryControl)("matAutocomplete",t),n.Cb(3),n.ic("ngForOf",n.ec(18,12,e.countriesOpts$)),n.Cb(4),n.ic("chartData",n.ec(22,14,e.dataByCountry$)),n.Cb(2),n.ic("dataSource",n.ec(24,16,e.dataByCountry$)),n.Cb(14),n.ic("matHeaderRowDef",e.displayedColumns),n.Cb(1),n.ic("matRowDefColumns",e.displayedColumns)}},directives:[C.a,g.b,h.h,h.k,g.a,h.m,h.i,h.j,S.b,y.a,h.a,v.c,h.c,v.a,m.k,D.a,R.j,R.c,R.e,R.b,R.g,R.i,w.f,R.d,R.a,R.f,R.h],pipes:[m.b,m.e],styles:[".full-width[_ngcontent-%COMP%]{width:100%;color:#1eff00}.align-center[_ngcontent-%COMP%]{text-align:center}"]}),t})()},{path:"",redirectTo:"home",pathMatch:"full"}]}];let A=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[o.a.forChild(B)],o.a]}),t})();var F=a("PCNd");let H=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[F.a,A]]}),t})()}}]);