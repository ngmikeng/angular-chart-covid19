(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Iab2:function(t,e,n){var o,a;void 0===(a="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){c(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,c,r){var i=a.URL||a.webkitURL,s=document.createElement("a");s.download=c=c||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?o(s):n(s.href)?e(t,c,r):o(s,s.target="_blank")):(s.href=i.createObjectURL(t),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,c){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,c),a);else if(n(t))e(t,a,c);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){o(r)}))}}:function(t,n,o,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var r="application/octet-stream"===t.type,i=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&i)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},l.readAsDataURL(t)}else{var d=a.URL||a.webkitURL,u=d.createObjectURL(t);c?c.location=u:location.href=u,c=null,setTimeout((function(){d.revokeObjectURL(u)}),4e4)}});a.saveAs=c.saveAs=c,t.exports=c})?o.apply(e,[]):o)||(t.exports=a)},j1ZV:function(t,e,n){"use strict";n.r(e),n.d(e,"ComponentsModule",(function(){return U}));var o=n("tyNb"),a=n("lJxs"),c=n("fXoL"),r=n("vkgz"),i=n("2Vo4"),s=n("qc5V");let l=(()=>{class t{constructor(t){this.apiService=t,this.localDataSubject=new i.a(null),this._localData=this.localDataSubject.asObservable()}fetchData(){return this.apiService.get("/timeseries.json").pipe(Object(r.a)(t=>{this.localDataSubject.next(t)}))}clearData(){this.localDataSubject.next(null)}getAllData(){return this._localData}getSummaryNumbers(){return this._localData.pipe(Object(a.a)(t=>{const e={confirmed:0,deaths:0,recovered:0};return t&&Object.keys(t).forEach(n=>{if(t[n]){const o=t[n][t[n].length-1];e.confirmed=e.confirmed+o.confirmed,e.deaths=e.deaths+o.deaths,e.recovered=e.recovered+o.recovered}}),e}))}getListCountries(){return this._localData.pipe(Object(a.a)(t=>t?Object.keys(t):[]))}getByCountryName(t){return this._localData.pipe(Object(a.a)(e=>{if(e&&e[t])return[...e[t]]}))}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(s.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("/t3+"),u=n("NFeN"),b=n("Wp6s"),m=n("ofXK");let p=(()=>{class t{constructor(t){this.covidDataStoreService=t}ngOnInit(){this.totalConfirmed$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(a.a)(t=>t.confirmed.toLocaleString())),this.totalRecovered$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(a.a)(t=>t.recovered.toLocaleString())),this.totalDeaths$=this.covidDataStoreService.getSummaryNumbers().pipe(Object(a.a)(t=>t.deaths.toLocaleString()))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(l))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-components"]],decls:28,vars:9,consts:[[1,"header"],[1,"brand"],["src","/assets/images/large-icon.png"],[1,"fill-remaining-space"],[1,"summary-wrap"],["title","Confirmed",1,"text-orange"],[1,"number"],["title","Deaths",1,"text-red"],["title","Recovered",1,"text-green"],[1,"info"],["href","https://github.com/pomber/covid19"]],template:function(t,e){1&t&&(c.Sb(0,"mat-toolbar",0),c.Sb(1,"span",1),c.Nb(2,"img",2),c.sc(3," CHART COVID-19 "),c.Rb(),c.Nb(4,"span",3),c.Sb(5,"div",4),c.Sb(6,"mat-icon",5),c.sc(7,"sentiment_dissatisfied"),c.Rb(),c.Sb(8,"span",6),c.sc(9),c.dc(10,"async"),c.Rb(),c.Sb(11,"mat-icon",7),c.sc(12,"sentiment_very_dissatisfied"),c.Rb(),c.Sb(13,"span",6),c.sc(14),c.dc(15,"async"),c.Rb(),c.Sb(16,"mat-icon",8),c.sc(17,"sentiment_very_satisfied"),c.Rb(),c.Sb(18,"span",6),c.sc(19),c.dc(20,"async"),c.Rb(),c.Rb(),c.Rb(),c.Sb(21,"mat-card"),c.Nb(22,"router-outlet"),c.Rb(),c.Sb(23,"mat-toolbar",9),c.Sb(24,"span"),c.sc(25,"Source data from "),c.Sb(26,"a",10),c.sc(27,"@pomber/covid19"),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Cb(9),c.tc(c.ec(10,3,e.totalConfirmed$)),c.Cb(5),c.tc(c.ec(15,5,e.totalDeaths$)),c.Cb(5),c.tc(c.ec(20,7,e.totalRecovered$)))},directives:[d.a,u.a,b.a,o.b],pipes:[m.b],styles:[".header[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #cdcdcd}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;-webkit-animation:spin 4s linear infinite;animation:spin 4s linear infinite}@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}.header[_ngcontent-%COMP%]   .summary-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:1}.header[_ngcontent-%COMP%]   .summary-wrap[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{margin-left:3px;margin-right:10px}.header[_ngcontent-%COMP%]   .summary-wrap[_ngcontent-%COMP%]   .text-orange[_ngcontent-%COMP%]{color:purple}.header[_ngcontent-%COMP%]   .summary-wrap[_ngcontent-%COMP%]   .text-red[_ngcontent-%COMP%]{color:red}.header[_ngcontent-%COMP%]   .summary-wrap[_ngcontent-%COMP%]   .text-green[_ngcontent-%COMP%]{color:green}@media (max-width:768px){.header[_ngcontent-%COMP%]{font-size:1em;flex-direction:column}}.info[_ngcontent-%COMP%]{font-size:11px;border-top:1px solid #cdcdcd;border-bottom:1px solid #cdcdcd;height:40px}.fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();var f=n("3Pt+"),h=n("JX91"),g=n("Iab2"),y=n("cHiH"),C=n("jaxi"),v=n("kmnG"),S=n("qFsG"),w=n("/1cH"),O=n("qPpl"),R=n("bTqV"),D=n("+0xr"),_=n("FKr1");function x(t,e){if(1&t&&(c.Sb(0,"mat-option",24),c.sc(1),c.Rb()),2&t){const t=e.$implicit;c.ic("value",t),c.Cb(1),c.uc(" ",t," ")}}function M(t,e){1&t&&(c.Sb(0,"th",25),c.sc(1," Date "),c.Rb())}function j(t,e){if(1&t&&(c.Sb(0,"td",26),c.sc(1),c.dc(2,"date"),c.Rb()),2&t){const t=e.$implicit;c.Cb(1),c.uc(" ",c.fc(2,1,t.date,"mediumDate")," ")}}function P(t,e){1&t&&(c.Sb(0,"th",25),c.sc(1," Confirmed "),c.Rb())}function k(t,e){if(1&t&&(c.Sb(0,"td",26),c.sc(1),c.Rb()),2&t){const t=e.$implicit;c.Cb(1),c.uc(" ",t.confirmed," ")}}function L(t,e){1&t&&(c.Sb(0,"th",25),c.sc(1," Recovered "),c.Rb())}function T(t,e){if(1&t&&(c.Sb(0,"td",26),c.sc(1),c.Rb()),2&t){const t=e.$implicit;c.Cb(1),c.uc(" ",t.recovered," ")}}function B(t,e){1&t&&(c.Sb(0,"th",25),c.sc(1," Deaths "),c.Rb())}function N(t,e){if(1&t&&(c.Sb(0,"td",26),c.sc(1),c.Rb()),2&t){const t=e.$implicit;c.Cb(1),c.uc(" ",t.deaths," ")}}function $(t,e){1&t&&c.Nb(0,"tr",27)}function E(t,e){1&t&&c.Nb(0,"tr",28)}const A=[{path:"",component:p,children:[{path:"home",component:(()=>{class t{constructor(t){this.covidDataStoreService=t,this.selectedCountry="Vietnam",this.countryControl=new f.b(this.selectedCountry),this.displayedColumns=["date","confirmed","recovered","deaths"],this.dataType="confirmed"}ngOnInit(){this.covidDataStoreService.fetchData().subscribe(),this.covidDataStoreService.getListCountries().subscribe(t=>{this.countries=t}),this.allData$=this.covidDataStoreService.getAllData(),this.countriesOpts$=this.countryControl.valueChanges.pipe(Object(h.a)(""),Object(a.a)(t=>this._filter(t))),this._handleLoadDataByCountry(this.selectedCountry)}_filter(t){const e=t.toLowerCase();return this.countries.filter(t=>t.toLowerCase().includes(e))}onSelectCountry(t){t&&t.option&&t.option.value&&(this.selectedCountry=t.option.value,this._handleLoadDataByCountry(t.option.value))}exportCSV(){if(this.selectedCountry&&this._dataByCountry&&this._dataByCountry.length>0){const t=Object.keys(this._dataByCountry[0]),e=[];this._dataByCountry.forEach(t=>{e.push([...Object.values(t)])});const n=[t.join(","),e.join("\n")].join("\n"),o=new Blob([n],{type:"text/csv;charset=utf-8"});Object(g.saveAs)(o,`covid19_${this.selectedCountry}_${(new Date).getTime()}.csv`)}}_handleLoadDataByCountry(t){this.dataByCountry$=this.covidDataStoreService.getByCountryName(t).pipe(Object(a.a)(t=>t&&t.length>0?t.sort((t,e)=>new Date(e.date).getTime()-new Date(t.date).getTime()):t)).pipe(Object(r.a)(t=>{this._dataByCountry=t}))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(l))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-home"]],decls:42,vars:18,consts:[[3,"chartData","dataType"],[1,"types-data-buttons"],["name","dataType",3,"ngModel","ngModelChange"],["value","confirmed"],["value","deaths"],["value","recovered"],[1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Search Country","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"chartData"],[1,"table-buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8","full-width",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","confirmed"],["matColumnDef","recovered"],["matColumnDef","deaths"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(c.Sb(0,"div"),c.Nb(1,"app-world-map-chart",0),c.dc(2,"async"),c.Sb(3,"div",1),c.Sb(4,"mat-button-toggle-group",2),c.ac("ngModelChange",(function(t){return e.dataType=t})),c.Sb(5,"mat-button-toggle",3),c.sc(6,"Confirmed"),c.Rb(),c.Sb(7,"mat-button-toggle",4),c.sc(8,"Deaths"),c.Rb(),c.Sb(9,"mat-button-toggle",5),c.sc(10,"Recovered"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Nb(11,"hr"),c.Sb(12,"form",6),c.Sb(13,"mat-form-field",7),c.Nb(14,"input",8),c.Sb(15,"mat-autocomplete",9,10),c.ac("optionSelected",(function(t){return e.onSelectCountry(t)})),c.rc(17,x,2,2,"mat-option",11),c.dc(18,"async"),c.Rb(),c.Rb(),c.Rb(),c.Nb(19,"hr"),c.Sb(20,"div"),c.Nb(21,"app-multi-data-chart",12),c.dc(22,"async"),c.Rb(),c.Sb(23,"div",13),c.Sb(24,"button",14),c.ac("click",(function(){return e.exportCSV()})),c.sc(25,"Export CSV"),c.Rb(),c.Rb(),c.Sb(26,"table",15),c.dc(27,"async"),c.Qb(28,16),c.rc(29,M,2,0,"th",17),c.rc(30,j,3,4,"td",18),c.Pb(),c.Qb(31,19),c.rc(32,P,2,0,"th",17),c.rc(33,k,2,1,"td",18),c.Pb(),c.Qb(34,20),c.rc(35,L,2,0,"th",17),c.rc(36,T,2,1,"td",18),c.Pb(),c.Qb(37,21),c.rc(38,B,2,0,"th",17),c.rc(39,N,2,1,"td",18),c.Pb(),c.rc(40,$,1,0,"tr",22),c.rc(41,E,1,0,"tr",23),c.Rb()),2&t){const t=c.kc(16);c.Cb(1),c.ic("chartData",c.ec(2,10,e.allData$))("dataType",e.dataType),c.Cb(3),c.ic("ngModel",e.dataType),c.Cb(10),c.ic("formControl",e.countryControl)("matAutocomplete",t),c.Cb(3),c.ic("ngForOf",c.ec(18,12,e.countriesOpts$)),c.Cb(4),c.ic("chartData",c.ec(22,14,e.dataByCountry$)),c.Cb(5),c.ic("dataSource",c.ec(27,16,e.dataByCountry$)),c.Cb(14),c.ic("matHeaderRowDef",e.displayedColumns),c.Cb(1),c.ic("matRowDefColumns",e.displayedColumns)}},directives:[y.a,C.b,f.h,f.k,C.a,f.m,f.i,f.j,v.b,S.a,f.a,w.c,f.c,w.a,m.k,O.a,R.a,D.j,D.c,D.e,D.b,D.g,D.i,_.f,D.d,D.a,D.f,D.h],pipes:[m.b,m.e],styles:[".full-width[_ngcontent-%COMP%]{width:100%;color:#1eff00}.align-center[_ngcontent-%COMP%]{text-align:center}.types-data-buttons[_ngcontent-%COMP%]{text-align:center;font-size:14px}.types-data-buttons[_ngcontent-%COMP%]     .mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:35px}.table-buttons[_ngcontent-%COMP%]{margin-bottom:5px}"]}),t})()},{path:"",redirectTo:"home",pathMatch:"full"}]}];let H=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[o.a.forChild(A)],o.a]}),t})();var F=n("PCNd");let U=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[F.a,H]]}),t})()}}]);